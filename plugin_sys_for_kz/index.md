## 为快站编写插件

#### 快站插件系统介绍

插件系统是快站很重要的一环，丰富的插件系统使站长拥有更多的选择，可以快速地搭建出更多类型的站点。对站长插件系统表现为云商店系统，对开发者表现为开放平台。我最近的工作正好是围绕着这两部分做的，所以我想谈谈对插件系统开发的一些经验。

我先介绍一些云商店，站长可以在云商店里通过支付快币购买开启插件(模板、海报)，然后在站点搭建页面使用已购买的插件。而开放平台则是开发者的地盘，一个插件(模板、海报)称为一个应用，开发者可以创建发布一个应用并明码标价地出售，如果有人在云商店支付开启了插件，开发者就会得到收入。

一个模式：开发者开发出一个插件，有人购买他的插件，开发者吃饱了又开发一个特别的插件，吸引了一个站长入住快站并购买他的插件

#### 如何开发一个插件

[开发平台资源中心]https://www.kuaizhan.com/developer/docs/
[kz-ide-example](https://github.com/kuaizhan/kz-ide-example)
[快站资源库-大米](https://code.kz06.cn/)

#### 新版投票插件开发

#### 如何优化插件开发与性能

1. 开发生成HTML、Jquery(zetop)、vue、react插件项目和webpack配置的脚手架工具`kz-plugin`, 或者使用`kz-cli`添加几个模板即可
2. 修改完善开发教程，包括开发，测试，部署
3. 提供移动端的UI库(ui、vue、react, 最好是基于weixin ui风格的)方便开发者调用
4. 开通未开发者提供解决问题的通道, 使用`github issues`
5. 加入效果审查和代码审查阶段，禁止一切攻击快站的行为和去掉广告的行为`^_^`
6. 由我们这边来做代码压缩混淆的工作，方便代码审查
7. ~~搭建对外开发、发布、审查一体化代码仓库平台, 把使开发者形成开发依赖~~ 难度大
8. 与钱有关的东西请不要放在页面上，无论怎么审查都是有风险的
9. 增加一个beforeLoadScript的方法 loading

#### 云商店流程优化

#### 另几点建议

1. 收集开发者邮箱，采用非侵入性的方式与开发者互动，通知开发者插件的销售情况(默默提醒开发者该开发下一个插件了，不要忘了这里还有一个财路), 告知开放平台的改进情况，总之积极地与开发者交流.

2. 及时跟进bug.
